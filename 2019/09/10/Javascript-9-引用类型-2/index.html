<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/logo.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/logo.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/logo.png"><link rel="mask-icon" href="/images/logo.png" color="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=EB Garamond:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="/lib/pace/pace-theme-mac-osx.min.css"><script src="/lib/pace/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"brookliu.xyz",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"always",padding:18,offset:12,onmobile:!0},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"./public/search.xml"}</script><meta name="description" content="Date类型Javascript中的Date类型是在早期java中的java.util.Date类基础上构建的。为此，Date类型使用自UTC(Coordinated Universal Time，国际协调时间)1970年1月1日午夜(零时)开始经过的毫秒数来保存日期。在使用这种数据存储格式的条件下，Date类型保存的日期能够精确到1970年1月1日之前或之后的100000000年。"><meta property="og:type" content="article"><meta property="og:title" content="Javascript-9-引用类型-2"><meta property="og:url" content="https://brookliu.xyz/2019/09/10/Javascript-9-%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-2/index.html"><meta property="og:site_name" content="1024肥宅"><meta property="og:description" content="Date类型Javascript中的Date类型是在早期java中的java.util.Date类基础上构建的。为此，Date类型使用自UTC(Coordinated Universal Time，国际协调时间)1970年1月1日午夜(零时)开始经过的毫秒数来保存日期。在使用这种数据存储格式的条件下，Date类型保存的日期能够精确到1970年1月1日之前或之后的100000000年。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-09-10T14:35:11.000Z"><meta property="article:modified_time" content="2020-08-16T14:35:41.000Z"><meta property="article:author" content="Brookliu"><meta property="article:tag" content="JavaScript"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://brookliu.xyz/2019/09/10/Javascript-9-%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-2/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>Javascript-9-引用类型-2 | 1024肥宅</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="1024肥宅" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div> <a href="https://github.com/liubrook" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">1024肥宅</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i> 标签<span class="badge">18</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i> 分类<span class="badge">17</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i> 归档<span class="badge">63</span></a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div> <a href="https://github.com/liubrook" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://brookliu.xyz/2019/09/10/Javascript-9-%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-2/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/logo.png"><meta itemprop="name" content="Brookliu"><meta itemprop="description" content="扶我起来，我还能写"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="1024肥宅"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Javascript-9-引用类型-2</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-09-10 22:35:11" itemprop="dateCreated datePublished" datetime="2019-09-10T22:35:11+08:00">2019-09-10</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-08-16 22:35:41" itemprop="dateModified" datetime="2020-08-16T22:35:41+08:00">2020-08-16</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a></span></span><span id="/2019/09/10/Javascript-9-%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-2/" class="post-meta-item leancloud_visitors" data-flag-title="Javascript-9-引用类型-2" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span class="leancloud-visitors-count"></span> <span>℃</span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Valine：</span><a title="valine" href="/2019/09/10/Javascript-9-%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-2/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2019/09/10/Javascript-9-%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-2/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><h4 id="Date类型"><a href="#Date类型" class="headerlink" title="Date类型"></a>Date类型</h4><p>Javascript中的Date类型是在早期java中的java.util.Date类基础上构建的。为此，Date类型使用自UTC(Coordinated Universal Time，国际协调时间)1970年1月1日午夜(零时)开始经过的毫秒数来保存日期。在使用这种数据存储格式的条件下，Date类型保存的日期能够精确到1970年1月1日之前或之后的100000000年。</p><a id="more"></a><p>要创建一个日期对象，使用new操作符和Date构造函数即可，例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var now &#x3D; new Date();</span><br></pre></td></tr></table></figure><p>在调用Date构造函数而不传递参数的情况下，新创建的对象自动获得当前日期和时间。如果想要根据特定的日期和时间创建日期对象，必须传入表示该日期的毫秒数。为了简化这一计算过程，JS提供了：</p><ul><li>Date.parse()，接收一个表示日期的字符串参数，然后尝试根据这个字符串返回响应日期的毫秒数。</li><li>Date.UTC()，参数是年份、基于0的月份、月中的哪一天、小时数、分钟、秒、毫秒数。年和月是必传的。返回表示日期的毫秒数。</li><li>Date.now()，返回表示调用这个方法时的日期和时间的毫秒数。</li></ul><h6 id="继承的方法"><a href="#继承的方法" class="headerlink" title="继承的方法"></a>继承的方法</h6><p>与其他引用类型一样，Date类型也重写了toLocaleString()、toString()、valueOf()方法；但这些方法返回的值与其他类型中的方法不同。</p><ul><li>toLocaleString()，会按照与浏览器设置的地区相适应的格式返回日期和时间。</li><li>toString()，返回带有时区信息的日期和时间。</li><li>valueOf()，返回日期的毫秒表示。</li></ul><h6 id="日期格式化方法"><a href="#日期格式化方法" class="headerlink" title="日期格式化方法"></a>日期格式化方法</h6><ul><li>toDateString()-以特定于实现的格式显示星期几、月、日和年。</li><li>toTimestring()-以特定于实现的格式显示时、分、秒和时区。</li><li>toLocaleDateString()-以特定于地区的格式显示星期几、月、日和年。</li><li>toLocaleTimeString()-以特定于实现的格式显示时、分、秒。</li><li>toUTCString()-以特定于实现的格式实现完整的UTC日期。</li></ul><h6 id="日期-时间组件方法"><a href="#日期-时间组件方法" class="headerlink" title="日期/时间组件方法"></a>日期/时间组件方法</h6><ul><li>getTime() 返回表示日期的毫秒数，与valueOf()方法返回的值相同。</li><li>setTime(毫秒) 以毫秒数设置日期，会改变整个日期。</li><li>getFullYear() 取得四位数的年份。</li><li>getUTCFullYear() 返回UTC日期的4位数年份。</li><li>setFullYear(年) 设置日期年份，传入的年份值必须是四位数。</li><li>setUTCFullYear(年) 设置UTC日期年份，传入的年份值必须是四位数。</li><li>getMonth() 返回日期中的月份，0表示1月，11表示12月。</li><li>getUTCMonth() 返回UTC日期中的月份，0表示1月，11表示12月。</li><li>setMonth(月) 设置日期的月份，传入的月份值必须大于0，超过11则增加年份。</li><li>setUTCMonth(月) 设置UTC日期的月份，传入的月份值必须大于0，超过11则增加年份。</li><li>getDate() 返回日期月份中的天数（1到31）。</li><li>getUTCDate() 返回UTC日期月份中的天数（1到31）。</li><li>setDate(日) 设置日期月份中的天数，如果传入的值超过了该月中应有的天数，则增加月份。</li><li>setUTCDate(日) 设置UTC日期月份中的天数，如果传入的值超过了该月中应有的天数，则增加月份。</li><li>getDay() 返回日期中星期的星期几（0表示星期日，6表示星期六）。</li><li>getUTCDay() 返回UTC日期中星期的星期几（0表示星期日，6表示星期六）。</li><li>getHours() 返回日期中的小时数（0到23）。</li><li>getUTCHours() 返回UTC日期中的小时数（0到23）。</li><li>setHours(时) 设置日期中的小时数，传入的值超过了23则增加月份中的天数。</li><li>setUTCHours(时) 设置UTC日期中的小时数，传入的值超过了23则增加月份中的天数。</li><li>getMinutes() 返回日期中的分钟数（0到59）。</li><li>getUTCMinutes() 返回UTC日期中的分钟数（0到59）。</li><li>setMinutes(分) 设置日期中的分钟数，传入的值超过59则增加小时数。</li><li>setUTCMinutes(分) 设置UTC日期中的分钟数，传入的值超过59则增加小时数。</li><li>getSeconds() 返回日期中的 秒数（0到59）。</li><li>getUTCSeconds() 返回UTC日期中的 秒数（0到59）。</li><li>setSeconds(秒) 设置日期中的秒数，传入的值超过59则增加分钟数。</li><li>setUTCSeconds(秒) 设置UTC日期中的秒数，传入的值超过59则增加分钟数。</li><li>getMilliseconds() 返回日期中的毫秒数。</li><li>getUTCMilliseconds() 返回UTC日期中的毫秒数。</li><li>setMilliseconds(毫秒) 设置日期中的毫秒数。</li><li>setUTCMilliseconds(毫秒) 设置UTC日期中的毫秒数。</li><li>getTimezoneOffset() 返回本地时间与UTC时间相差的毫秒数。</li></ul><h4 id="RegExp类型"><a href="#RegExp类型" class="headerlink" title="RegExp类型"></a>RegExp类型</h4><p>JS通过RegExp类型来支持正则表达式。使用下面类似Perl的语法，就可以创建一个正则表达式。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var expression &#x3D; &#x2F; pattern &#x2F; flags;</span><br></pre></td></tr></table></figure><p>其中的模式(pattern)部分可以是任何简单或复杂的正则表达式，可以包含字符类、限定符、分组、向前查找以及反向引用。每个正则表达式都可以带有一或多个标志(flags)，泳衣标明正则表达式的行为。正则表达式的匹配模式支持下列3个标志：</p><ul><li>g：表示全局(global)模式，即模式将被应用于所有字符串，而非在发现第一个匹配项时立即停止。</li><li>i：表示不区分大小写(case-insensitive)模式，即在确定匹配项时忽略模式和字符串的大小写。</li><li>m：表示多行(multiline)模式，记载到达一行文本末尾时还会继续查找下一行中是否存在与模式匹配的项，</li></ul><p>一个正则表达式就是一个模式与上述3个标志的组合体。例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* 匹配字符串中所有“at”的实例 *&#x2F;</span><br><span class="line">var pattern1 &#x3D; &#x2F;at&#x2F;g;</span><br><span class="line"></span><br><span class="line">&#x2F;* 匹配第一个“bat”或“cat”，不区分大小写 *&#x2F;</span><br><span class="line">var pattern2 &#x3D; &#x2F;[bc]at&#x2F;i;</span><br><span class="line"></span><br><span class="line">&#x2F;* 匹配所有以”at“结尾的3个字符的组合，不区分大小写 *&#x2F;</span><br><span class="line">var pattern3 &#x3D; &#x2F;.at&#x2F;gi;</span><br></pre></td></tr></table></figure><p>与其他语言中的正则表达式类似，模式中使用的所有元字符都必须转义。正则表达式中的元字符包括：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">( [ &#123; \ ^ $ | ) ? * + .  ] &#125;</span><br></pre></td></tr></table></figure><p>这些元字符在正则表达式中都有一或多种特殊用途，因此如果想要匹配字符串中包含的这些字符，就必须对它们进行转义。例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;匹配第一个&quot;bat&quot;或&quot;cat&quot;,不区分大小写</span><br><span class="line">var pattern1&#x3D; &#x2F;[bc]at&#x2F;i;</span><br><span class="line">&#x2F;&#x2F;匹配第一个&quot;[bc]at&quot;,不区分大小写</span><br><span class="line">var pattern2&#x3D; &#x2F;\[bc\]at&#x2F;i;</span><br><span class="line">&#x2F;&#x2F;匹配所有以&quot;at&quot;结尾的3个字符的组合,不区分大小写</span><br><span class="line">var pattern3&#x3D; &#x2F;.at&#x2F;gi;</span><br><span class="line">&#x2F;&#x2F;匹配所有&quot;.at&quot;,不区分大小写</span><br><span class="line">var pattern4&#x3D; &#x2F;\.at&#x2F;gi;</span><br></pre></td></tr></table></figure><p>上面的例子都是以字面量的形式来定义的正则表达式。另一种创建正则表达式的方式是使用RegExp构造函数，它接收两个参数：一个是要匹配的字符串模式，另一个是可选的标志字符串。可以使用字面量定义的任何表达式，都可以使用构造函数来定义。例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;匹配第一个&quot;bat&quot;或&quot;cat&quot;,不区分大小写</span><br><span class="line">var pattern1&#x3D; &#x2F;[bc]at&#x2F;i;</span><br><span class="line">&#x2F;&#x2F;与pattern1相同,只不过是使用构造函数创建的</span><br><span class="line">var pattern2&#x3D;new RegExp(&quot;[bc]at&quot;,&quot;i&quot;);</span><br><span class="line"></span><br><span class="line">&#x2F;*在此,pattern1和pattern2是两个完全相等的正则表达式。*&#x2F;</span><br></pre></td></tr></table></figure><ul><li><p>要注意的是，传递给RegExp构造函数的两个参数都是字符串。</p></li><li><p>由于RegExp构造函数的模式参数是字符串，所以在某些情况下要对字符串进行转义。</p></li><li><p>所有元字符都必须双重转义，那些已经转义过的字符也是如此，例如\n（字符\在字符串中通常被转义为\,而在正则表达式字符串中就会变成\\）。</p><div class="table-box"><table><thead><tr><th>字符量模式</th><th>等价的字符串</th></tr></thead><tbody><tr><td><code>/\[bc\]at/</code></td><td><code>"\\[bc\\]at"</code></td></tr><tr><td><code>/\.at/</code></td><td><code>"\\.at"</code></td></tr><tr><td><code>/name\/age/</code></td><td><code>"name\\/age"</code></td></tr><tr><td><code>/\d.\d{1,2}/</code></td><td><code>"\\d.\\d{1,2}"</code></td></tr><tr><td><code>/\w\\hello\\123/</code></td><td><code>"\\w\\\\hello\\\\123"</code></td></tr></tbody></table></div></li></ul><h6 id="RegExp实例属性"><a href="#RegExp实例属性" class="headerlink" title="RegExp实例属性"></a>RegExp实例属性</h6><ul><li>global：布尔值，表示是否设置了g标志。</li><li>ignoreCase：布尔值，表示是否设置了i标志。</li><li>lastIndex：整数，表示开始搜索下一个匹配项的字符位置，从0算起。</li><li>multiline：布尔值，表示是否设置了m标志。</li><li>source：正则表达式的字符串表示，按照字面量形式而非传入构造函数中的字符串模式返回。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var pattern1&#x3D; &#x2F;\[bc\]at&#x2F;i;</span><br><span class="line">alert(pattern1.global);       &#x2F;&#x2F;false</span><br><span class="line">alert(pattern1.ignoreCasr);  &#x2F;&#x2F;true</span><br><span class="line">alert(pattern1.multiline);   &#x2F;&#x2F;false</span><br><span class="line">alert(pattern1.laastIndex);  &#x2F;&#x2F;0</span><br><span class="line">alert(pattern1.source);      &#x2F;&#x2F;&quot;\[bc\]at&quot;</span><br><span class="line"></span><br><span class="line">var pattern2&#x3D;new RegExp(&quot;\\[bc\\]at&quot;,&quot;i&quot;);</span><br><span class="line">alert(pattern2.global);      &#x2F;&#x2F;false</span><br><span class="line">alert(pattern2.ignoreCase);  &#x2F;&#x2F;true</span><br><span class="line">alert(pattern2.multiline);   &#x2F;&#x2F;false</span><br><span class="line">alert(pattern2.lastIndex);  &#x2F;&#x2F;0</span><br><span class="line">alert(pattern2.source);     &#x2F;&#x2F;&quot;\[bc\]at&quot;</span><br><span class="line">&#x2F;&#x2F;source属性保存的是规范形式的字符串，即字面量形式所用的字符串</span><br></pre></td></tr></table></figure><h6 id="RegExp实例方法"><a href="#RegExp实例方法" class="headerlink" title="RegExp实例方法"></a>RegExp实例方法</h6><p>RegExp对象的主要方法是exec()，该方法是专门为捕获组设置的。exec()接受一个参数，即要应用模式的字符串，然后返回包含第一个匹配项信息的数组；或者在没有匹配项的情况下返回null。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var text&#x3D; &quot;mom and dad and baby&quot;;</span><br><span class="line">var pattern&#x3D; &#x2F;mom( and dad( and baby)?)?&#x2F;gi;</span><br><span class="line">var matches&#x3D;pattern.exec(text);</span><br><span class="line">alert(matches.index);  &#x2F;&#x2F;0</span><br><span class="line">alert(matches.input);  &#x2F;&#x2F;&quot;mom and dad and baby&quot;</span><br><span class="line">alert(matches[0]);  &#x2F;&#x2F;&quot;mom and dad and baby&quot;</span><br><span class="line">alert(matches[1]);  &#x2F;&#x2F;&quot; and  dad and baby&quot;</span><br><span class="line">alert(matches[2]);  &#x2F;&#x2F;&quot; and baby&quot; </span><br><span class="line">&#x2F;*这个例子中的模式包含两个捕获组。最内部的捕获组匹 配&quot;and baby&quot;,而包含它的捕获组匹配&quot;and dad&quot;或者&quot;and dad and baby&quot;。当把字符串传入exec()方法中之后,发现了一个匹配项。因为整个字符串本身与模式匹配,所以返回的数组matches的index属性值为0。数组中大的第一项是匹配的整个字符串，第二项包含与第一个捕获组匹配的内容，第三项包含与第二个捕获组匹配的内容*&#x2F;</span><br></pre></td></tr></table></figure><p>对于exec()方法而言，即使在全局模式中设置了全局标志(g)，它每次也只会返回一个匹配项项。在不设置全局标志的情况下，在同一个字符串上多次调用exec()将始终返回第一个匹配项的信息。而在设置全局标志的情况下，每次调用exec()都会在字符串中继续查找新匹配项。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">var text&#x3D;&quot;cat,bat,sat,fat&quot;;</span><br><span class="line">var pattern1&#x3D;&#x2F;.at&#x2F;;</span><br><span class="line"></span><br><span class="line">var matches&#x3D;pattern1.exec(text);</span><br><span class="line">alert(matches.index);&#x2F;&#x2F;0</span><br><span class="line">alert(matches[0]);&#x2F;&#x2F;cat</span><br><span class="line">alert(pattern1.lastIndex);&#x2F;&#x2F;0</span><br><span class="line"></span><br><span class="line">matches&#x3D;pattern1.exec(text);</span><br><span class="line">alert(matches.index);&#x2F;&#x2F;0</span><br><span class="line">alert(matches[0]);&#x2F;&#x2F;cat</span><br><span class="line">alert(pattern1.lastIndex);&#x2F;&#x2F;0</span><br><span class="line"></span><br><span class="line">var pattern2&#x3D; &#x2F;.at&#x2F;g;</span><br><span class="line">var matches&#x3D;pattern2.exec(text);</span><br><span class="line">alert(matches.index);&#x2F;&#x2F;0</span><br><span class="line">alert(matches[0]);&#x2F;&#x2F;cat</span><br><span class="line">alert(pattern2.lastIndex);&#x2F;&#x2F;3</span><br><span class="line"></span><br><span class="line">matches&#x3D;pattern2.exec(text);</span><br><span class="line">alert(matches.index);&#x2F;&#x2F;5</span><br><span class="line">alert(matches[0]);&#x2F;&#x2F;bat</span><br><span class="line">alert(pattern2.lastIndex);&#x2F;&#x2F;8</span><br></pre></td></tr></table></figure><p>正则表达式的第二个方法是test()，它接受一个字符串参数。在模式与该参数匹配的情况喜爱返回true；否则，返回false。在只想知道目标字符串与某个模式是否匹配，但不需知道其文本内容的情况下，使用这个方法非常方便。因此，test()方法经常被用在if语句中，例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var text&#x3D;&quot;000-00-0000&quot;;</span><br><span class="line">var pattern&#x3D;&#x2F;\d&#123;3&#125;-\d&#123;2&#125;-\d&#123;4&#125;&#x2F;;</span><br><span class="line">&#x2F;&#x2F;test()方法经常被用在if语句中</span><br><span class="line">if(pattern.test(text))&#123;</span><br><span class="line">	alert(&quot;The pattern was matched&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>RegExp实例继承toLocaleString()和toString()方法都会返回正则表达式的字面量，与创建正则表达式的方式无关.例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var pattern&#x3D;new RegExp(&quot;\\[bc\\]at&quot;,&quot;gi&quot;);</span><br><span class="line">alert(pattern.toString());&#x2F;&#x2F; &#x2F;\[bc\]at&#x2F;gi</span><br><span class="line">alert(pattern.toLocaleString());&#x2F;&#x2F; &#x2F;\[bc\]at&#x2F;gi</span><br></pre></td></tr></table></figure><h6 id="RegExp构造函数属性"><a href="#RegExp构造函数属性" class="headerlink" title="RegExp构造函数属性"></a>RegExp构造函数属性</h6><p>RegExp构造函数包含一些属性(这些属性在其他语言中被看成是静态属性)。这些属性适用于作用域中的所有正则表达式，并且基于所执行的最后一次正则表达式操作而变化。关于这些属性的另一个独特之处，就是可以通过两种方式访问它们。</p><div class="table-box"><table><thead><tr><th>长属性名</th><th>短属性名</th><th>说明</th></tr></thead><tbody><tr><td><code>input</code></td><td><code>$_</code></td><td>最近一次要匹配的字符串。Opera为实现此属性</td></tr><tr><td><code>lastMatch</code></td><td><code>$&amp;</code></td><td>最近一次的匹配项。Opera未实现此属性</td></tr><tr><td><code>|lastParen</code></td><td><code>$+</code></td><td>最近一次匹配的捕获组。Opera为实现此属性</td></tr><tr><td><code>leftContext</code></td><td><code>$</code></td><td><code>input</code>字符串中<code>lastMatch</code>之前的文本</td></tr><tr><td><code>multiline</code></td><td><code>$*</code></td><td>布尔值，表示是否所有表达式都使用多行模式。IE和Opera未实现此属性</td></tr><tr><td><code>rightContext</code></td><td><code>$'</code></td><td><code>Input</code>字符串中<code>lastMatch</code>之后的文本</td></tr></tbody></table></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var text&#x3D;&quot;this has been a short summer&quot;;</span><br><span class="line">var pattern&#x3D; &#x2F;(.)hort&#x2F;g;</span><br><span class="line">&#x2F;*</span><br><span class="line">*注意：Opera不支持input、lastMatch、lastParen和multiline属性</span><br><span class="line">*Internet Explorer不支持multiline属性</span><br><span class="line">*&#x2F;</span><br><span class="line">if(pattern.test(text))&#123;</span><br><span class="line">	alert(RegExp.input);  &#x2F;&#x2F;this has been a short  summer</span><br><span class="line">	alert(RegExp.leftContext);  &#x2F;&#x2F;this has been a</span><br><span class="line">	alert(RegExp.rightContext); &#x2F;&#x2F;summer</span><br><span class="line">	alert(RegExp.lastMatch);  &#x2F;&#x2F;short</span><br><span class="line">	alert(RegExp.lastParen);  &#x2F;&#x2F;s</span><br><span class="line">	alert(RegExp.multiline);  &#x2F;&#x2F;flase</span><br><span class="line">	&#x2F;*以上代码创建了一个模式，匹配任何一个字符串后跟hort，而且把第一个字符放在了一个捕获组中*&#x2F;</span><br></pre></td></tr></table></figure><p>RegExp构造函数的各个属性返回了下列值：</p><ul><li>input属性返回了原始字符串。</li><li>leftContext属性返回了单词short之前的字符串，而rightContext属性则返回了short属性之后的字符串；</li><li>lastMatch属性返回最近一次与整个表达式匹配的字符串，即short；</li><li>lastParen属性返回最近一次匹配的捕获组。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*例子中的长属性名都可以用相应的短属性名来代替。只不过，由于这些短属性名大都不是有效的ECMAScript标识符，因此必须通过方括号语法来访问它们*&#x2F;</span><br><span class="line">var text&#x3D;&quot;this has been a short summer&quot;;</span><br><span class="line">var pattern&#x3D; &#x2F;(.)hort&#x2F;g;</span><br><span class="line">&#x2F;*</span><br><span class="line">*注意：Opera不支持input、lastMatch、lastParen和multiline属性</span><br><span class="line">*Internet Explorer不支持multiline属性</span><br><span class="line">*&#x2F;</span><br><span class="line">if(pattern.test(text))&#123;</span><br><span class="line">	alert(RegExp.$_);  &#x2F;&#x2F;this has been a short summer</span><br><span class="line">	alert(RegExp[&quot;$&#96;&quot;]);  &#x2F;&#x2F;this has been a</span><br><span class="line">	alert(RegExp[&quot;$&#39;&quot;]);  &#x2F;&#x2F;summer</span><br><span class="line">	alert(RegExp[&quot;$&amp;&quot;]);  &#x2F;&#x2F;short</span><br><span class="line">	alert(RegExp[&quot;$+&quot;]);  &#x2F;&#x2F;s</span><br><span class="line">	alert(RegExp[&quot;$*&quot;]);  &#x2F;&#x2F;false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h6 id="模式的局限性"><a href="#模式的局限性" class="headerlink" title="模式的局限性"></a>模式的局限性</h6><p>尽管JS中的正则表达式功能还比较完备，但仍然缺少某些语言(特别是Perl)所支持的高级正则表达式特性。</p><ul><li>匹配字符串开始和结尾的\A和\Z锚。</li><li>向后查找(lookbehind)</li><li>并集和交集类</li><li>原子组(atomic grouping)</li><li>Unicode支持(单个字符除外，如\uFFFF)</li><li>命名的捕获组</li><li>s(single，单行)和x(free-spacing，无间隔)匹配模式</li><li>条件匹配</li><li>正则表达式注释</li></ul><p>即使存在这些限制，ECMAScript正则表达式仍然是非常强大的，能够帮助我们完成绝大多数模式匹配任务</p></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> Brookliu</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://brookliu.xyz/2019/09/10/Javascript-9-%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-2/" title="Javascript-9-引用类型-2">https://brookliu.xyz/2019/09/10/Javascript-9-引用类型-2/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/JavaScript/" rel="tag"><i class="fa fa-tag"></i> # JavaScript</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2019/09/02/Javascript-9-%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-1/" rel="prev" title="Javascript-9-引用类型-1"><i class="fa fa-chevron-left"></i> Javascript-9-引用类型-1</a></div><div class="post-nav-item"> <a href="/2019/09/14/Javascript-9-%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-3/" rel="next" title="Javascript-9-引用类型-3">Javascript-9-引用类型-3<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#Date类型"><span class="nav-number">1.</span> <span class="nav-text">Date类型</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#继承的方法"><span class="nav-number">1.0.1.</span> <span class="nav-text">继承的方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#日期格式化方法"><span class="nav-number">1.0.2.</span> <span class="nav-text">日期格式化方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#日期-时间组件方法"><span class="nav-number">1.0.3.</span> <span class="nav-text">日期&#x2F;时间组件方法</span></a></li></ol></li></ol><li class="nav-item nav-level-4"><a class="nav-link" href="#RegExp类型"><span class="nav-number">2.</span> <span class="nav-text">RegExp类型</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#RegExp实例属性"><span class="nav-number">2.0.1.</span> <span class="nav-text">RegExp实例属性</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#RegExp实例方法"><span class="nav-number">2.0.2.</span> <span class="nav-text">RegExp实例方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#RegExp构造函数属性"><span class="nav-number">2.0.3.</span> <span class="nav-text">RegExp构造函数属性</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#模式的局限性"><span class="nav-number">2.0.4.</span> <span class="nav-text">模式的局限性</span></a></li></ol></li></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Brookliu" src="/images/logo.png"><p class="site-author-name" itemprop="name">Brookliu</p><div class="site-description" itemprop="description">扶我起来，我还能写</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">63</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">17</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">18</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/liubrook" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;liubrook" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="https://juejin.im/user/588993964030574" title="掘金 → https:&#x2F;&#x2F;juejin.im&#x2F;user&#x2F;588993964030574" rel="noopener" target="_blank"><i class="fa fa-spinner fa-fw"></i> 掘金</a></span><span class="links-of-author-item"><a href="https://blog.csdn.net/lqpf199681" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;lqpf199681" rel="noopener" target="_blank"><i class="fa fa-crossjairs fa-fw"></i> CSDN</a></span></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="http://www.zhangxinxu.com/" title="http:&#x2F;&#x2F;www.zhangxinxu.com&#x2F;" rel="noopener" target="_blank">张鑫旭</a></li><li class="links-of-blogroll-item"> <a href="http://www.alloyteam.com/nav/" title="http:&#x2F;&#x2F;www.alloyteam.com&#x2F;nav&#x2F;" rel="noopener" target="_blank">Web前端导航</a></li><li class="links-of-blogroll-item"> <a href="http://ife.baidu.com/" title="http:&#x2F;&#x2F;ife.baidu.com&#x2F;" rel="noopener" target="_blank">百度前端技术学院</a></li><li class="links-of-blogroll-item"> <a href="http://wf.uisdc.com/cn/" title="http:&#x2F;&#x2F;wf.uisdc.com&#x2F;cn&#x2F;" rel="noopener" target="_blank">google前端开发基础</a></li></ul></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="copyright"> &copy; 2019 – <span itemprop="copyrightYear">2020</span><span class="with-love"><i class="fa fa-star"></i></span> <span class="author" itemprop="copyrightHolder">by 1024肥宅</span></div><div class="powered-by"><i class="fa fa-user-md"></i> <span id="busuanzi_container_site_uv">本站访客数:<span id="busuanzi_value_site_uv"></span></span></div><div class="addthis_inline_share_toolbox"><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5fb642a4fe3376d3" async="async"></script></div><div class="theme-info"><div class="powered-by"></div> <span class="post-count">博客全站共135k字</span></div><div class="weixin-box"><div class="weixin-menu"><div class="weixin-hover"><div class="weixin-description">微信扫一扫，订阅本博客</div></div></div></div><style>#comments .veditor{min-height:10rem;background-image:url(https://gitee.com/wugenqiang/PictureBed/raw/master/CS-Notes/20200425091751.png);background-size:contain;background-repeat:no-repeat;background-position:right;background-color:rgba(255,255,255,0);resize:none}</style><script>
    //   自定义邮箱审核规则
    document.body.addEventListener('click', function(e) {
        if (e.target.classList.contains('vsubmit')) {
            const email = document.querySelector('input[type=email]');
            const nick = document.querySelector('input[name=nick]');
            const reg = /^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;
            if (!email.value || !nick.value || !reg.test(email.value)) {
                const str = `<div class="valert text-center"><div class="vtext">请填写正确的昵称和邮箱！</div></div>`;
                const vmark = document.querySelector('.vmark');
                vmark.innerHTML = str;
                vmark.style.display = 'block';
                setTimeout(function() {
                    vmark.style.display = 'none';
                    vmark.innerHTML = '';
                }, 2500);
            }
        }
    })
</script><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"wdEmjy5T77AkIgiwj3VfoTD0-gzGzoHsz","app_key":"Q0n1AFSDoyYQsw7RI9eC1rfP","server_url":null,"security":true};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script></div></footer></div><script size="300" alpha="0.6" zindex="-1" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1/canvas-ribbon.js"></script><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>!function(){var o,n,e=document.getElementsByTagName("link");if(0<e.length)for(i=0;i<e.length;i++)"canonical"==e[i].rel.toLowerCase()&&e[i].href&&(o=e[i].href);n=o?o.split(":")[0]:window.location.protocol.split(":")[0],o||(o=window.location.href),function(){var e=o,i=document.referrer;if(!/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(e)){var t="https"===String(n).toLowerCase()?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";i?(t+="?r="+encodeURIComponent(document.referrer),e&&(t+="&l="+e)):e&&(t+="?l="+e),(new Image).src=t}}(window)}()</script><script src="/js/local-search.js"></script><script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'wdEmjy5T77AkIgiwj3VfoTD0-gzGzoHsz',
      appKey     : 'Q0n1AFSDoyYQsw7RI9eC1rfP',
      placeholder: "(。・∀・)ノ )",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-CN' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script><script type="text/javascript" src="/js/clicklove.js"></script><script async>window.onload=function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src="/sw-register.js?v="+Date.now(),t.parentNode.insertBefore(e,t)}</script></body></html>